
<style>
#regForm {
   margin-left:20%;
    width:530px;
    
  }

  
  #regForm h1 {
    text-align: center;  
  }
  
  #regForm input {
    padding: 5px;
    width: 100%;
    font-size: 17px;
  
    border: 1px solid #aaaaaa;
  }
  
  /* Mark input boxes that gets an error on validation: */
  #regForm input.invalid {
    background-color: #ffdddd;
  }
  
  /* Hide all steps by default: */
  #regForm .tab {
    display: none;
  }
  
  #regForm button {
    background-color: #24346C;
    color: #ffffff;
    border: none;
    padding: 10px 20px;
    font-size: 17px;
    font-family: Raleway;
    cursor: pointer;
  }
  
  #regForm button:hover {
    opacity: 0.8;
  }
  
  #regForm #prevBtn {
    background-color: #bbbbbb;
  }
  
  /* Make circles that indicate the steps of the form: */
  #regForm .step {
    height: 15px;
    width: 15px;
    margin: 0 2px;
    background-color: blue;
    border: none;  
    border-radius: 50%;
    display: inline-block;
    opacity: 0.5;
  }
  
  #regForm .step.active {
    opacity: 1;
  }
  
  /* Mark the steps that are finished and valid: */
  #regForm .step.finish {
    background-color: #04AA6D;
  }
 
</style>

<%= form_with(url:"/forms/guardar_formulario_staff", method: "get", local:true, class:"sidebar-form", id:"regForm") do %>
  <h1>STAFF TUMORES:</h1>
  <br>
  <!-- One "tab" for each step in the form: -->
  <div class="tab">Datos staff:
  <br>
  <br>
  <label>FECHA(S) DE STAFF</label>
   <%= text_field_tag 'search', "", class: "form-control", required: true,list: "magicHouses", placeholder: 'Buscar grupo', name: 'id_relacional',value:@id_relacional,type: 'hidden'  %>
    <p><input placeholder="Fecha staff..." oninput="this.className = ''" name="fecha_staff" value = "<%=  @fechas_staff %>"></p>
    <br>
    <label>DÍAS TRANSCURRIDOS</label>
    <p><input placeholder="dias transcurridos ..." oninput="this.className = ''" name="dias_trancurridos" value = "<%=  @dias_transcurridos %>" style="width:100px;"></p>
    <br>
    <label>STAFF</label>
    <p><input placeholder="staff ..." oninput="this.className = ''" name="staff" value = "<%=  @staff %>"></p>
  </div>
  <div class="tab">Dir:
  <br>
  <br>
  <label>IDENTICACIÓN</label>
    <p><input placeholder="número de cédula..." oninput="this.className = ''" name="identificacion"  value = "<%=  @identificacion %>" style="width:160px;"></p>
    <br>
    <label>PACIENTE</label>
    <p><input placeholder="Nombre Paciente..." oninput="this.className = ''" name="paciente" value = "<%=  @paciente %>" style="width:300px;"></p>
    <br>
    <label>EPS</label>
    <p><input placeholder="Ingrese la eps..." oninput="this.className = ''" name="eps" value = "<%=  @eps %>" style="width:400px;"></p>
    <br>
    <label>MÉDICO TRATANTE</label>
    <p><input placeholder="Médico responsable..." oninput="this.className = ''" name="medico_tratante" value = "<%=  @responsables %>"></p>
    <br>
    <label>MÉDICO REMITENTE</label>
    <p><input placeholder="Médico remitente..." oninput="this.className = ''" name="medico_remitente" value = "<%=  @remitente %>" style="width:400px;"></p>
    <br>
    <label>FECHA DE REMISIÓN A STAFF</label>
    <p><input placeholder="Fecha de remisión a staff..." oninput="this.className = ''" name="fecha_remision_staff"  value = "<%=  @fecha_ejecucion %>" style="width:200px;"></p>
  </div>
  <br>
  <div class="tab"> DATOS CLÍNICOS:
  <br>
  <br>
  <label>CIE10</label>
    <p><input placeholder="Código diagnóstico..." oninput="this.className = ''" name="codigo_diagnostico" value = "<%=  @cod_diagnostico %>" style="width:100px;"></p>
    <br>
  <label>DIAGNÓSTICO</label>
   <p><input placeholder="Diagnóstico..." oninput="this.className = ''" name="diagnostico" value = "<%=  @diagnostico %>"></p>
    <br>
  <label>MANEJO ACTUAL</label>
  <p><select name="manejo_actual" oninput="this.className = ''" id="cars">
  <option value="SIN INICIO DE TRATAMIENTO">SIN INICIO DE TRATAMIENTO</option>
  <option value="EN QUIMIOTERAPIA">EN QUIMIOTERAPIA</option>
  <option value="EN RADIOTERAPIA">EN RADIOTERAPIA</option>
  <option value="EN INMUNOTERAPIA">EN INMUNOTERAPIA</option>
  <option value="EN HORMONOTERAPIA">EN HORMONOTERAPIA</option>
  <option value="CIRUGÍA NO ONCOLÓGICA">CIRUGÍA NO ONCOLÓGICA</option>
  <option value="CIRUGÍA ONCOLÓGICA">CIRUGÍA ONCOLÓGICA</option>
  <option value="EN SEGUIMIENTO">EN SEGUIMIENTO</option>
</select></p>
   <br>
   <label>ESTADO DE LA ENFERMEDAD</label>
  <p><select name="estado_enfermedad" oninput="this.className = ''" id="cars">
  <option value="COMPROMISO LOCAL">COMPROMISO LOCAL</option>
  <option value="COMPROMISO METASTÁSICO">COMPROMISO METASTÁSICO </option>
  <option value="COMPROMISO GANGLIONAR">COMPROMISO GANGLIONAR</option>
  <option value="RECAÍDA">RECAÍDA</option>
  <option value="REMISIÓN PARCIAL">REMISIÓN PARCIAL</option>
  <option value="REMISIÓN TOTAL">REMISIÓN TOTAL</option>
  <option value="CÁNCER ESTABLE">CÁNCER ESTABLE</option>
  <option value="PROGRESIÓN">PROGRESIÓN</option>
</select></p>
   <br>
   
    
  </div>

  <div class="tab">OBJETIVO STAFF:
  <br>
  <br>
  <label>PROPUESTA A DISCUTIR</label>
  <p><select name="propuesta_discutir" oninput="this.className = ''" id="cars">
  <option value="DEFINIR MANEJO">COMPROMISO LOCAL</option>
  <option value="DEFINIR TERAPIA SISTÉMICA">DEFINIR TERAPIA SISTÉMICA</option>
  <option value="DEFINIR CIRUGÍA">DEFINIR CIRUGÍA</option>
  <option value="DEFINIR SEGUNDA LÍNEA">DEFINIR SEGUNDA LÍNEA</option>
  <option value="DEFINIR NECESIDAD DE PRUEBA GENÓMICA">DEFINIR NECESIDAD DE PRUEBA GENÓMICA</option>
  <option value="HIPEC">HIPEC</option>
  <option value="DEFINIR HORMONOTERAPIA">DEFINIR HORMONOTERAPIA</option>
  <option value="REVISIÓN DE IMÁGENES">REVISIÓN DE IMÁGENES</option>
  <option value="REVISIÓN DE PATOLOGÍA">REVISIÓN DE PATOLOGÍA</option>
  <option value="SOLICITUD DE LA ASEGURADORA">SOLICITUD DE LA ASEGURADORA</option>
  </select></p>
    <br>
    <label>REVISIÓN HISTOLÓGICA</label>
    <p><select name="revision_histologica" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select></p>
    <br>
    <label>ENCONTRARON HALLAZGOZ DIFERENTES</label>
    <p><select name="hallazgos_diferentes" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select></p>
  <br>
  <label>REVISIÓN IMÁGENES</label>
    <p><select name="revision_imagenes" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select></p>
  <br>
  <label>ENCONTRARON HALLAZGOZ DIFERENTES EN IMÁGENES</label>
  <p><select name="hallazgos_diferentes_imagenes" oninput="this.className = ''" id="cars">
<option value="SI">SI</option>
<option value="NO">NO</option>
</select></p>
  </div>

  <div class="tab">CONCLUCIÓN STAFF:
  <br>
  <br>
  
  <p><label>QT </label><select name="qt" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select> 
  <label >RT </label><select name="rt" oninput="this.className = ''" id="cars" style="display:inline-block;">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select> 
  <label>CX </label><select name="cx" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select> 
  <br><br><label> CONSULTA ESPECIALIDAD QUIRÚRGICA </label><select name="consulta_especialidad_quirurgica" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select><br><br>
  <label>CONSULTA ONCÓLOGO / HEMATÓLOGO </label><select name="consulta_oncologo_hematologo" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select>
  <br><br>
  <label>CONSULTA DOLOR Y CUIDADO PALIATIVO </label><select name="dolor_y_paliativos" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select> <br><br>
  <label>ESTUDIOS DE IMÁGENES </label><select name="estudios_imagenes" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select> 
  <label>ESTUDIOS MOLECULARES </label><select name="estudios_moleculares" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select><br><br>
  <label>ESTUDIOS GENÓMICOS </label><select name="estudios_genomicos" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select>
  <label>BIOPSIA </label><select name="biopsia" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select>
  <label>MEDICAMENTO DE ALTO COSTO </label><select name="medicamento_alto_costo" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select> <br><br>
  <p><label>CUÁL MEDICAMENTO DE ALTO COSTO </label><select name="cual_medicamento_alto_costo" oninput="this.className = ''" id="cars">
  <option value="NO APLICA">NO APLICA</option>
  <option value="NIVOLUMAB">NIVOLUMAB</option>
  <option value="PEMBROLIZUMAB">PEMBROLIZUMAB</option>
  <option value="PERTUZUMAB">PERTUZUMAB</option>
  <option value="PALBOCICLIB">PALBOCICLIB</option>
  <option value="DASATINIB">DASATINIB</option>
  <option value="DARATUMUMAB">DARATUMUMAB</option>
  <option value="BRENTUXIMAB">BRENTUXIMAB</option>
  <option value="DABRAFENIB">DABRAFENIB</option>
  <option value="RIBOCICLIB">RIBOCICLIB</option>
  <option value="TRAMETINIB">TRAMETINIB</option>
  <option value="OSIMERTINIB">OSIMERTINIB</option>
  <option value="ECULIZUMAB">ECULIZUMAB</option>
  <option value="DENOSUMAB">DENOSUMAB</option>
  <option value="OLAPARIB">OLAPARIB</option>
  <option value="REGORAFENIB">REGORAFENIB</option>
  <option value="RAMUCIRUMAB">RAMUCIRUMAB</option>
  </select><br><br>
  <label>INTENCIÓN DEL TRATAMIENTO </label><select name="intencion_del_tratamiento" oninput="this.className = ''" id="cars">
  <option value="PALIATIVA">PALIATIVA</option>
  <option value="CURATIVA">CURATIVA</option>
  </select><br><br>
  <label>VALORACION EN OTRO STAFF </label><select name="valoracion_otro_staff" oninput="this.className = ''" id="cars">
  <option value="SI">SI</option>
  <option value="NO">NO</option>
  </select><br><br>
  <label>STAFF Al QUE SE REMITE </label><select name="staff_remitente" oninput="this.className = ''" id="cars">
  <option value="NO APLICA">NO APLICA</option>
  <option value="TÓRAX">TÓRAX</option>
  <option value="MAMA">MAMA</option>
  <option value="GASTROINTESTINAL">GASTROINTESTINAL</option>
  <option value="ONCOLOGÍA">ONCOLOGÍA</option>
  <option value="DERMATOLOGÍA">DERMATOLOGÍA</option>
  <option value="MELANOMA">MELANOMA</option>
  <option value="TUMORES PÉLVICOS">TUMORES PÉLVICOS</option>
  <option value="HEMATOLOGÍA">HEMATOLOGÍA</option>
  <option value="LINFÓMAS CUTÁNEOS">LINFÓMAS CUTÁNEOS</option>
  <option value="CABEZA Y CUELLO">CABEZA Y CUELLO</option>
  <option value="ONCOLOGIA">ONCOLOGIA</option>
  <option value="DOLOR">DOLOR</option>
  <option value="MOHS">MOHS</option>
  <option value="FUNCIONAL">FUNCIONAL</option>
  <option value="FUNCIONAL QUIRÚRGICO">FUNCIONAL QUIRÚRGICO</option>
  </select> 
  </p>

  <br>

  </div>

  <div class="tab">INFORMACIÓN DE GESTIÓN:
  <br>
  <br>
      <label>RESPONSABLE DEL CIGESPA</label>
    <p><input placeholder="Responsable cigespa..." oninput="this.className = ''" name="responsable_cigespa" style="width:400px;"></p>
    <br>
      <label>FECHA_GESTIÓN</label>
    <p><input placeholder="Fecha de gestión..." oninput="this.className = ''" name="fecha_de_gestion" type="date" style="width:250px;"></p>
    <br>
      <label>GESTIÓN REALIZADA</label>
    <p><input placeholder="Responsable cigespa..." oninput="this.className = ''" name="gestion_realizada"></p>
    <br>
  </div>
  <div style="overflow:auto;">
    <div style="float:right;">
      <button type="button" id="prevBtn" onclick="nextPrev(-1)">Volver</button>
      <button type="button" id="nextBtn" onclick="nextPrev(1)">Siguiente</button>
    </div>
  </div>
  <!-- Circles which indicates the steps of the form: -->
  <div style="margin-top:30px;margin-left:180px;">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
  </div>
<%end%>




<script>
var currentTab = 0; // Current tab is set to be the first tab (0)
showTab(currentTab); // Display the current tab

function showTab(n) {
  // This function will display the specified tab of the form...
  var x = document.getElementsByClassName("tab");
  x[n].style.display = "block";
  //... and fix the Previous/Next buttons:
  if (n == 0) {
    document.getElementById("prevBtn").style.display = "none";
  } else {
    document.getElementById("prevBtn").style.display = "inline";
  }
  if (n == (x.length - 1)) {
    document.getElementById("nextBtn").innerHTML = "Enviar";
  } else {
    document.getElementById("nextBtn").innerHTML = "Siguiente";
  }
  //... and run a function that will display the correct step indicator:
  fixStepIndicator(n)
}

function nextPrev(n) {
  // This function will figure out which tab to display
  var x = document.getElementsByClassName("tab");
  // Exit the function if any field in the current tab is invalid:
  if (n == 1 && !validateForm()) return false;
  // Hide the current tab:
  x[currentTab].style.display = "none";
  // Increase or decrease the current tab by 1:
  currentTab = currentTab + n;
  // if you have reached the end of the form...
  if (currentTab >= x.length) {
    // ... the form gets submitted:
    document.getElementById("regForm").submit();
    return false;
  }
  // Otherwise, display the correct tab:
  showTab(currentTab);
}

function validateForm() {
  // This function deals with validation of the form fields
  var x, y, i, valid = true;
  x = document.getElementsByClassName("tab");
  y = x[currentTab].getElementsByTagName("input");
  // A loop that checks every input field in the current tab:
  for (i = 0; i < y.length; i++) {
    // If a field is empty...
    if (y[i].value == "") {
      // add an "invalid" class to the field:
      y[i].className += " invalid";
      // and set the current valid status to false
      valid = false;
    }
  }
  // If the valid status is true, mark the step as finished and valid:
  if (valid) {
    document.getElementsByClassName("step")[currentTab].className += " finish";
  }
  return valid; // return the valid status
}

function fixStepIndicator(n) {
  // This function removes the "active" class of all steps...
  var i, x = document.getElementsByClassName("step");
  for (i = 0; i < x.length; i++) {
    x[i].className = x[i].className.replace(" active", "");
  }
  //... and adds the "active" class on the current step:
  x[n].className += " active";
}
  
/*función que desabilita elemento de carga loader
     ubicado en aplication html*/
    $(document).ready(function () {
   
      
          $('#loader').css({'background':'none'});
          $('#loader').css({'position':'none'});
          $('#loader').css({'left':'none'});
          $('#loader').css({'top':'none'});
          $('#loader').css({'width':'none'});
          $('#loader').css({'height':'none'});
          $('#loader').css({'z-index':'-9999'});
          $('#loader').css({'opacity':'none'});

        
 });




</script>
